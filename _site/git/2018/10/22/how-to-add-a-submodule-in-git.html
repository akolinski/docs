<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon" sizes="57x57" href="/assets/images/favicon/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/images/favicon/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/images/favicon/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/images/favicon/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/images/favicon/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/images/favicon/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/images/favicon/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/images/favicon/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/images/favicon/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/images/favicon/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png"><link rel="manifest" href="/assets/images/favicon/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/images/favicon/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>How to add a submodule in git - Adam Kolinski</title><link href="https://fonts.googleapis.com/css?family=Lato:300,400,700%7CMerriweather+Sans" rel="stylesheet"><link href="/assets/main.css" rel="stylesheet"><link rel="alternate" type="application/rss+xml" title="Docs" href="/feed.xml"> <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script></head><body> <header class="site-header mb-5 pt-4 pb-4"><div class="container"><div class="row justify-content-md-center"><div class="col-5"> <a class="site-title" href="/">Docs</a></div><div class="col-5"> <nav class="site-nav float-right"><div class="trigger"> <a class="page-link" href="/about/">About</a></div> </nav></div></div></div> </header><main class="page-content" aria-label="Content"><div class="container"><div class="row justify-content-md-center"><div class="col-12 col-md-10"> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"><h1 class="post-title mb-5" itemprop="name headline">How to add a submodule in git</h1><p class="post-meta"> <time datetime="2018-10-22T09:00:00+11:00" itemprop="datePublished"> Oct 22, 2018 </time></p> </header><div class="post-content" itemprop="articleBody"><blockquote class="blockquote"> When working in a repository you may want to version control a separate folder, this is how to do it.</blockquote><h2 id="adding-a-submodule-in-an-existing-repository">Adding a submodule in an existing repository</h2><p>Please ensure the folder doesn’t already exist. If it does please remove that folder.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rm -r -f path_to_folder
</code></pre></div></div><p>&amp;</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rm -r -f path_to_folder
</code></pre></div></div><p>Then add a submodule using the command below from the root. Where the .gitmodules file lives.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git submodule add url_to_repo path_you_want_it_to_clone_too
</code></pre></div></div><p>You can then check what the registered submodules are using this command.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git ls-files --stage | grep 160000
</code></pre></div></div><h2 id="adding-a-new-submodule-to-remote">Adding a new submodule to remote</h2><p>First of all copy the folder into a folder on your computer out of your existing project. Then cd into the folder.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /my_submodule
</code></pre></div></div><p>Now follow these commands:</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git init
</code></pre></div></div><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add --all
</code></pre></div></div><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit -m "Initial Commit"
</code></pre></div></div><p>The next line will be the remote ssh address for the repository that you need to setup using Github.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote add origin ssh://git:1234/adam/name_of_repo.git
</code></pre></div></div><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push -u origin master
</code></pre></div></div><p>We have just made that folder associated with our created git repository.</p><p>Next let’s bring in that submodule into our current working project.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /my_project
</code></pre></div></div><p>Checkout into our working branch.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout &lt;branch_name&gt;
</code></pre></div></div><p>Make sure we have no changes and the latest code.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status
</code></pre></div></div><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git pull origin &lt;branch_name&gt;
</code></pre></div></div><p>Let’s be careful and branch out to a new branch.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout –b add_submodule
</code></pre></div></div><p>Next we add the submodule to the project we are currently working within.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git submodule add ssh://git:1234/adam/name_of_repo.git add_ons/name_of_repo
</code></pre></div></div><p>Now lets go into that submodule and add, commit + push all of our changes.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd add_ons/name_of_repo
</code></pre></div></div><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status
</code></pre></div></div><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit –m "Adding submodule"
</code></pre></div></div><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin &lt;branch_name&gt;
</code></pre></div></div><p>That’s it we have added a submodule to our project.</p></div> </article></div></div></div></main> <footer class="site-footer mt-5 pt-4 pb-4"><div class="container"><div class="row justify-content-md-center"><div class="col-12 col-md-10"><ul class="list-unstyled"><li> Website developed by Adam Kolinski - <a target="_blank" href="https://makeaweb.com.au/">MAKE A WEB</a></li><li>Contact me at <a href="mailto:info@makeaweb.com.au">info@makeaweb.com.au</a></li></ul></div></div></div> </footer></body></html>